GPT - CODE LOL
class Solution {
public:
    long long countGood(vector<int>& nums, int k) {
        int n = nums.size();
        unordered_map<int,int> mp;

        long long result = 0;
        long long pairs = 0;

        int i = 0;

        for (int j = 0; j < n; j++) {

            // ✔ Correct pair counting
            pairs += mp[nums[j]];
            mp[nums[j]]++;

            // ✔ Shrink window while pairs >= k
            while (pairs >= k) {

                // All subarrays starting at i and ending at >= j are good
                result += (n - j);

                // ✔ Remove nums[i] correctly
                mp[nums[i]]--;
                pairs -= mp[nums[i]]; // pairs lost when removing one occurrence

                i++;
            }
        }
        return result;
    }
};
